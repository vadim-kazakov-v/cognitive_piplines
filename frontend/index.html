<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Cognitive Pipelines UI</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/litegraph.js@0.8.5/build/litegraph.css">
  <style>
    html, body { height: 100%; margin: 0; }
    body { display: flex; overflow: hidden; font-family: sans-serif; }
    #sidebar { width: 180px; background: #f5f5f5; padding: 10px; box-sizing: border-box; display: flex; flex-direction: column; gap: 8px; }
    #main { flex: 1; display: flex; flex-direction: column; }
    #graph { flex: 1; }
    #chart { height: 200px; }
  </style>
</head>
<body>
  <div id="sidebar">
  </div>
  <div id="main">
    <div id="graph"></div>
    <canvas id="chart"></canvas>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/litegraph.js@0.8.5/build/litegraph.min.js"></script>
  <script>
    const graph = new LGraph();
    const canvas = new LGraphCanvas("#graph", graph);

    function registerNode(path, nodeClass) {
      LiteGraph.registerNodeType(path, nodeClass);
      const btn = document.createElement('button');
      btn.dataset.node = path;
      btn.textContent = nodeClass.title || path;
      document.getElementById('sidebar').appendChild(btn);
    }

    document.getElementById('sidebar').addEventListener('click', e => {
      if (!e.target.dataset.node) return;
      const node = LiteGraph.createNode(e.target.dataset.node);
      node.pos = [Math.random() * 400 + 100, Math.random() * 200 + 100];
      graph.add(node);
    });

    graph.start();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="nodes/data.js"></script>
  <script src="nodes/transform.js"></script>
  <script src="nodes/visualize.js"></script>
  <script src="nodes/util.js"></script>
  <script src="nodes/ml.js"></script>
</body>
</html>
